import { type DataViewReader, dataViewReader } from "./data-view-reader.js";
import { type DateTime, DateTimeImpl } from "./date-time.js";

// This file is autogenerated.
// Do not edit it by hand, as changes will be lost.
// Upstream source: https://raw.githubusercontent.com/oesmith/gatt-xml/refs/heads/master/org.bluetooth.characteristic.object_last_modified.xml
export interface ObjectLastModified {
    objectLastModified: DateTime;
}

/**
 * The fields in the above table, reading from top to bottom, are shown in the order of LSO to MSO, where LSO = Least Significant Octet and MSO = Most Significant Octet. Data Type: Same format as the Date Time characteristic
 * @see {@link https://raw.githubusercontent.com/oesmith/gatt-xml/refs/heads/master/org.bluetooth.characteristic.object_last_modified.xml | Object Last Modified}
 */
export class ObjectLastModifiedImpl implements ObjectLastModified {
    public static readonly UUID_PREFIX = 0x2ac2;
    public static readonly TYPE_NAME = "org.bluetooth.characteristic.object_last_modified";
    public static readonly NAME = "Object Last-Modified";

    /** Parse from a DataView into {@link ObjectLastModified}. */
    public static fromDataView(dataView: DataView | DataViewReader, indexStart?: number | undefined): ObjectLastModifiedImpl {
        return new ObjectLastModifiedImpl(objectLastModifiedFromDataView(dataView, indexStart));
    }

    public readonly objectLastModified: DateTime;

    public constructor(objectLastModified: ObjectLastModified) {
        this.objectLastModified = objectLastModified.objectLastModified;
    }
}

/** Parse from a DataView into {@link ObjectLastModified}. */
export function objectLastModifiedFromDataView(dataView: DataView | DataViewReader, indexStart: number = 0): ObjectLastModified {
    const $dvr: DataViewReader = dataViewReader(dataView, indexStart);
    const objectLastModified = DateTimeImpl.fromDataView($dvr);
    return { objectLastModified };
}
