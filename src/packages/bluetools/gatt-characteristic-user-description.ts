import { type DataViewReader, dataViewReader } from "./data-view-reader.js";

// This file is autogenerated.
// Do not edit it by hand, as changes will be lost.
// Upstream source: https://raw.githubusercontent.com/oesmith/gatt-xml/refs/heads/master/org.bluetooth.descriptor.gatt.characteristic_user_description.xml
/**
 * <p>The Characteristic User Description descriptor provides a textual user description for a characteristic value.</p>
 * <p>If the Writable Auxiliary bit of the Characteristics Properties is set then this descriptor is written. Only one User Description descriptor exists in a characteristic definition.</p>
 */
export interface GattCharacteristicUserDescription {
    /** <p>Format: `utf8s`</p> */
    userDescription: string;
}

/** @see {@link https://raw.githubusercontent.com/oesmith/gatt-xml/refs/heads/master/org.bluetooth.descriptor.gatt.characteristic_user_description.xml | Gatt Characteristic User Description} */
export class GattCharacteristicUserDescriptionImpl implements GattCharacteristicUserDescription {
    public static readonly UUID_PREFIX = 0x2901;
    public static readonly TYPE_NAME = "org.bluetooth.descriptor.gatt.characteristic_user_description";
    public static readonly NAME = "Characteristic User Description";

    /** Parse from a DataView into {@link GattCharacteristicUserDescription}. */
    public static fromDataView(dataView: DataView | DataViewReader, indexStart?: number | undefined): GattCharacteristicUserDescriptionImpl {
        return new GattCharacteristicUserDescriptionImpl(gattCharacteristicUserDescriptionFromDataView(dataView, indexStart));
    }

    public readonly userDescription: string;

    public constructor(gattCharacteristicUserDescription: GattCharacteristicUserDescription) {
        this.userDescription = gattCharacteristicUserDescription.userDescription;
    }
}

/** Parse from a DataView into {@link GattCharacteristicUserDescription}. */
export function gattCharacteristicUserDescriptionFromDataView(dataView: DataView | DataViewReader, indexStart: number = 0): GattCharacteristicUserDescription {
    const $dvr: DataViewReader = dataViewReader(dataView, indexStart);
    const userDescription = $dvr.utf8s();
    return { userDescription };
}
